<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{admin/layout/layoutMain}">

<head>
<title>쿠폰 정보 수정</title>
</head>

<th:block layout:fragment="contents">
	<main class="main-content">
		<form id="editCouponForm"
			th:action="@{/adminpage/useradmin/editCoupons}" method="post">
			<section class="content-header">
				<h2 class="content-title">쿠폰 정보 수정</h2>
				<div>
					<a th:href="@{/adminpage/useradmin/couponsList}"
						class="btn btn-light rounded font-sm mr-5 text-body hover-up">목록으로</a>
					<button type="submit" form="editCouponForm" class="btn btn-primary">수정하기</button>
				</div>
			</section>

			<div class="card">
				<div class="card-header">
					<h4>
						쿠폰 정보: <span class="text-primary"
							th:text="${couponInfo.pblcnCpnId}">PBLCPN_001</span>
					</h4>
				</div>
				<div class="card-body">
					<div class="row">
						<div class="col-md-6">
							<div class="mb-4">
								<label class="form-label">쿠폰명</label> <input type="text"
									class="form-control" name="cpnNm"
									th:value="${couponInfo.cpnNm}">
							</div>
						</div>
						<div class="col-md-6">
							<div class="mb-4">
								<label class="form-label">할인 값 (%)</label> <input type="number"
									step="0.01" class="form-control" name="dscntVl"
									th:value="${couponInfo.dscntVl}">
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-6">
							<div class="mb-4">
								<label class="form-label">최소 주문 금액</label> <input type="number"
									class="form-control" name="minOrdrAmt"
									th:value="${couponInfo.minOrdrAmt}">
							</div>
						</div>
						<div class="col-md-6">
							<div class="mb-4">
								<label class="form-label">최대 할인 금액</label> <input type="number"
									class="form-control" name="maxDscntAmt"
									th:value="${couponInfo.maxDscntAmt}">
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-6">
							<div class="mb-4">
								<label class="form-label">유효 시작일</label> <input
									type="datetime-local" class="form-control" name="vldBgngDt"
									th:value="${couponInfo.vldBgngDt}">
							</div>
						</div>
						<div class="col-md-6">
							<div class="mb-4">
								<label class="form-label">유효 종료일</label> <input
									type="datetime-local" class="form-control" name="vldEndDt"
									th:value="${couponInfo.vldEndDt}">
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-6">
							<div class="mb-4">
								<label class="form-label">총 발급 제한 횟수</label> <input
									type="number" class="form-control" name="totUseLmtNmtm"
									th:value="${couponInfo.totUseLmtNmtm}">
							</div>
						</div>
						<div class="col-md-6">
							<div class="mb-4">
								<label class="form-label">사용자당 사용 제한 횟수</label> <input
									type="number" class="form-control" name="userPerUseLmtNmtm"
									th:value="${couponInfo.userPerUseLmtNmtm}">
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-6">
							<div class="mb-4">
								<label class="form-label">발급 조건 타입</label> <select
									class="form-select" name="issueConditionType">
									<option value="NONE"
										th:selected="${couponInfo.issueConditionType == 'NONE'}">없음</option>
									<option value="SIGN_UP"
										th:selected="${couponInfo.issueConditionType == 'SIGN_UP'}">회원가입</option>
									<option value="FIRST_PURCHASE"
										th:selected="${couponInfo.issueConditionType == 'FIRST_PURCHASE'}">첫
										구매</option>
									<option value="REVIEW"
										th:selected="${couponInfo.issueConditionType == 'REVIEW'}">리뷰
										작성</option>
									<option value="BIRTHDAY"
										th:selected="${couponInfo.issueConditionType == 'BIRTHDAY'}">생일</option>
									<option value="REISSUE_MONTHLY"
										th:selected="${couponInfo.issueConditionType == 'REISSUE_MONTHLY'}">매월
										재발급</option>
									<option value="MANUAL"
										th:selected="${couponInfo.issueConditionType == 'MANUAL'}">관리자
										수동 발급</option>
								</select>
							</div>
						</div>
						<div class="col-md-6">
							<div class="mb-4">
								<label class="form-label">재발급 주기</label> <select
									class="form-select" name="reissueCycle">
									<option value="NONE"
										th:selected="${couponInfo.reissueCycle == 'NONE'}">재발급
										없음 (1회성)</option>
									<option value="MONTHLY"
										th:selected="${couponInfo.reissueCycle == 'MONTHLY'}">매월</option>
									<option value="YEARLY"
										th:selected="${couponInfo.reissueCycle == 'YEARLY'}">매년</option>
									<option value="UNLIMITED"
										th:selected="${couponInfo.reissueCycle == 'UNLIMITED'}">제한
										없음</option>
								</select>
							</div>
						</div>
					</div>

					<div class="mb-4">
						<label class="form-label">활성 여부</label>
						<div>
							<div class="form-check form-check-inline">
								<input class="form-check-input" type="radio" name="actvtnYn"
									id="activeYes" value="true"
									th:checked="${couponInfo.actvtnYn == true}"> <label
									class="form-check-label" for="activeYes">활성화</label>
							</div>
							<div class="form-check form-check-inline">
								<input class="form-check-input" type="radio" name="actvtnYn"
									id="activeNo" value="false"
									th:checked="${couponInfo.actvtnYn == false}"> <label
									class="form-check-label" for="activeNo">비활성화</label>
							</div>
						</div>
					</div>

					<input type="hidden" name="pblcnCpnId"
						th:value="${couponInfo.pblcnCpnId}" /> <input type="hidden"
						name="userNo" th:value="${couponInfo.userNo}" />

				</div>
			</div>
		</form>
	</main>
</th:block>
</html>