<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{admin/layout/layoutMain}">	
	 <head>
	 	<link rel="stylesheet" th:href="@{/admincss/assets/customadmincss/dashBoard.css}">
	 </head>
	 <!-- Ï∂îÍ∞ÄÌï† ÌéòÏù¥ÏßÄ contents -->
	 <th:block layout:fragment="contents">
    <main class="main-content">
        <!-- 1. ÌéòÏù¥ÏßÄ Ï†úÎ™© -->
        <section class="content-header">
            <h2 class="content-title">ÎåÄÏãúÎ≥¥Îìú</h2>
        </section>
        <!-- 2. ÌïµÏã¨ ÌòÑÌô© ÎåÄÏãúÎ≥¥Îìú Ïπ¥Îìú ÏòÅÏó≠ -->
        <div class="row">
		    <!-- Ïò§ÎäòÏùò Îß§Ï∂ú Ïπ¥Îìú -->
		    <div class="col-lg-3">
		        <div class="card card-body mb-4">
		            <a class="text-decoration-none" href="#">
		                <article class="d-flex align-items-start">
		                    <div class="icon-part me-3">
		                        <span class="icon-circle bg-success-light">
		                            <i class="icon material-icons text-success md-monetization_on"></i>
		                        </span>
		                    </div>
		                    <div class="info-part">
		                        <h3 class="card-value" th:text="${#numbers.formatInteger(dashboard.todayRevenue ?: 0, 0, 'COMMA')} + 'Ïõê'">0Ïõê</h3>
		                        <h6 class="text-muted">Ïò§ÎäòÏùò Îß§Ï∂ú</h6>
		                    </div>
		                </article>
		            </a>
		        </div>
		    </div>
		
		    <!-- [Ïã†Í∑ú] Ïò§ÎäòÏùò Î∞©Î¨∏ÏûêÏàò Ïπ¥Îìú -->
		    <div class="col-lg-3">
		        <div class="card card-body mb-4">
		            <a class="text-decoration-none" th:href="@{/adminpage/useradmin/loginHistory}">
		                <article class="d-flex align-items-start">
		                    <div class="icon-part me-3">
		                        <!-- ÏïÑÏù¥ÏΩòÍ≥º ÏÉâÏÉÅ Î≥ÄÍ≤Ω -->
		                        <span class="icon-circle bg-info-light">
		                            <i class="icon material-icons text-info md-visibility"></i>
		                        </span>
		                    </div>
		                    <div class="info-part">
		                        <!-- Î≥ÄÏàòÎ™ÖÍ≥º Îã®ÏúÑ Î≥ÄÍ≤Ω -->
		                        <h3 class="card-value" th:text="${dashboard.todayVisitors} + 'Î™Ö'">0Î™Ö</h3>
		                        <h6 class="text-muted">Ïò§Îäò Î∞©Î¨∏ÏûêÏàò</h6>
		                    </div>
		                </article>
		            </a>
		        </div>
		    </div>
		
		    <!-- Ïã†Í∑ú Í∞ÄÏûÖ Ïπ¥Îìú -->
		    <div class="col-lg-3">
		        <div class="card card-body mb-4">
		            <a class="text-decoration-none" th:href="@{/adminpage/useradmin/userList}">
		                <article class="d-flex align-items-start">
		                    <div class="icon-part me-3">
		                        <span class="icon-circle bg-primary-light">
		                            <i class="icon material-icons text-primary md-person_add"></i>
		                        </span>
		                    </div>
		                    <div class="info-part">
		                        <h3 class="card-value" th:text="${dashboard.newUserCount} + 'Î™Ö'">0Î™Ö</h3>
		                        <h6 class="text-muted">Ïã†Í∑ú Í∞ÄÏûÖ</h6>
		                    </div>
		                </article>
		            </a>
		        </div>
		    </div>
		    
		    <!-- [ÌÜµÌï©] Ï≤òÎ¶¨Ìï† ÏóÖÎ¨¥ Ïπ¥Îìú -->
		    <div class="col-lg-3">
		        <div class="card card-body mb-4">
		            <a class="text-decoration-none" href="#taskList"> <!-- ÌéòÏù¥ÏßÄ ÎÇ¥ 'ÌôïÏù∏ ÌïÑÏöî Ìï≠Î™©'ÏúºÎ°ú Ïù¥Îèô -->
		                <article class="d-flex align-items-start">
		                    <div class="icon-part me-3">
		                        <span class="icon-circle bg-danger-light">
		                            <i class="icon material-icons text-danger md-playlist_add_check"></i>
		                        </span>
		                    </div>
		                    <div class="info-part">
		                        <!-- Î¨∏Ïùò+Ïã†Í≥†+ÏÉÅÏ†êÏäπÏù∏+ÏÉÅÌíàÏäπÏù∏ Îì± Î™®Îì† ÎåÄÍ∏∞ Í±¥ÏàòÏùò Ìï© -->
		                        <h3 class="card-value" th:text="${dashboard.totalPendingTasks} + 'Í±¥'">0Í±¥</h3>
		                        <h6 class="text-muted">Ï≤òÎ¶¨Ìï† ÏóÖÎ¨¥</h6>
		                    </div>
		                </article>
		            </a>
		        </div>
		    </div>
		</div> <!-- row end// -->

        <!-- ================== [ÏÉàÎ°ú Ï∂îÍ∞ÄÎêú ÏòÅÏó≠] ================== -->
        <div class="row">
            <!-- 3. [ÏàòÏ†ï] ÏõîÎ≥Ñ Îß§Ï∂ú ÌÜµÍ≥Ñ Ï∞®Ìä∏ -->
            <div class="col-lg-8">
			    <div class="card card-body mb-4">
			        <div class="chart-container" style="position: relative; height:35vh; width:100%">
			            <canvas id="salesChart"></canvas>
			        </div>
			        <!-- ‚ñ≤‚ñ≤‚ñ≤ Ïó¨Í∏∞ÍπåÏßÄ ÏàòÏ†ï ‚ñ≤‚ñ≤‚ñ≤ -->
			    </div>
			</div>
            
            <!-- 4. ÌôïÏù∏ ÌïÑÏöî Ìï≠Î™© -->
            <div class="col-lg-4">
			    <div class="card card-body mb-4">
			        <h5 class="card-title">ÌôïÏù∏ ÌïÑÏöî Ìï≠Î™©</h5>
			        <div class="task-list">
			            <!-- ÏÉÅÏ†ê ÏäπÏù∏ ÏöîÏ≤≠ -->
			            <a th:href="@{/adminpage/storeadmin/appAdmin}" class="task-item">
			                <div class="item-info">
			                    <i class="icon material-icons text-danger md-storefront"></i>
			                    <span>ÏÉÅÏ†ê ÏäπÏù∏ ÏöîÏ≤≠</span>
			                </div>
			                <span class="badge rounded-pill bg-danger" th:text="${dashboard.pendingStoreCount}">0</span>
			            </a>
			
			            <!-- ÏÉÅÌíà ÏäπÏù∏ ÏöîÏ≤≠ -->
			            <a th:href="@{/adminpage/productadmin/adminProductManagement}" class="task-item">
			                <div class="item-info">
			                    <i class="icon material-icons text-danger md-fact_check"></i>
			                    <span>ÏÉÅÌíà ÏäπÏù∏ ÏöîÏ≤≠</span>
			                </div>
			                <span class="badge rounded-pill bg-danger" th:text="${dashboard.pendingProductCount}">0</span>
			            </a>
			            
			            <!-- Ï†ïÏÇ∞ ÎåÄÍ∏∞ Ìï≠Î™© -->
			            <a th:href="@{/adminpage/storeadmin/settlementDetailByStore}" class="task-item">
			                <div class="item-info">
			                    <i class="icon material-icons text-warning md-request_quote"></i>
			                    <span>Ï†ïÏÇ∞ ÎåÄÍ∏∞</span>
			                </div>
			                <span class="badge rounded-pill bg-warning" th:text="${dashboard.pendingSettlementCount}">0</span>
			            </a>
			
			            <!-- Ïã†Í∑ú Ïã†Í≥† Ï†ëÏàò -->
			            <a th:href="@{/adminpage/inquiryadmin/reportsList}" class="task-item">
			                <div class="item-info">
			                    <i class="icon material-icons text-warning md-report_problem"></i>
			                    <span>Ïã†Í∑ú Ïã†Í≥† Ï†ëÏàò</span>
			                </div>
			                <span class="badge rounded-pill bg-warning" th:text="${dashboard.pendingReportCount}">0</span>
			            </a>
			            
			            <!-- Ïã†Í∑ú Ïã†Í≥† Ï†ëÏàò -->
			            <a th:href="@{/admin/inquiry/adminInquiryList}" class="task-item">
			                <div class="item-info">
			                    <i class="icon material-icons text-warning md-report_problem"></i>
			                    <span>Ïã†Í∑ú Î¨∏Ïùò Ï†ëÏàò</span>
			                </div>
			                <span class="badge rounded-pill bg-warning" th:text="${dashboard.pendingInquiryCount}">0</span>
			            </a>
			
			            <!-- Ï≤òÎ¶¨Ìï† Ìï≠Î™©Ïù¥ ÌïòÎÇòÎèÑ ÏóÜÏùÑ Îïå ÌëúÏãúÎê† Î©îÏãúÏßÄ -->
			            <div class="text-center text-muted py-4" 
			                 th:if="${dashboard.totalPendingTasks == 0}">
			                <p class="mb-0">üëç Ï≤òÎ¶¨Ìï† Ìï≠Î™©Ïù¥ ÏóÜÏäµÎãàÎã§.</p>
			            </div>
			        </div>
			    </div>
			</div>
        </div>
    </main>
</th:block>

<!--/* Í∞úÎ∞úÏãú Ï∂îÍ∞ÄÌï† jsfile ÏòÅÏó≠ Ï†ïÏùò */-->
<th:block layout:fragment="jsFile">
    <!-- Chart.js ÎùºÏù¥Î∏åÎü¨Î¶¨ CDN Ï∂îÍ∞Ä -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</th:block>

<!--/* Í∞úÎ∞úÏãú Ï∂îÍ∞ÄÌï† Ïä§ÌÅ¨Î¶ΩÌä∏ */-->
<th:block layout:fragment="jsScript">

	<script th:inline="javascript">
        /*<![CDATA[*/
        // ÏÑúÎ≤ÑÏóêÏÑú Î∞õÏïÑÏò® Îç∞Ïù¥ÌÑ∞Î•º Ï†ÑÏó≠ Î≥ÄÏàòÏóê Ìï†Îãπ
        window.monthlyLabels = /*[[${dashboard.monthlyLabels}]]*/ [];
        window.revenueData = /*[[${dashboard.monthlyRevenueData}]]*/ [];
        window.totalSalesData = /*[[${dashboard.monthlyTotalSalesData}]]*/ [];
        window.monthlyAverageRevenueData = /*[[${dashboard.monthlyAverageRevenueData}]]*/ [];
        window.monthlyAverageTotalSalesData = /*[[${dashboard.monthlyAverageTotalSalesData}]]*/ [];
        /*]]>*/
    </script>

    <!-- 2. ÏÉàÎ°ú ÎßåÎì† dashboard.js ÌååÏùº Î°úÎìú -->
    <!-- ÏúÑÏóêÏÑú ÏÑ†Ïñ∏Ìïú Ï†ÑÏó≠ Î≥ÄÏàòÎì§Ïù¥ Î°úÎìúÎêú ÌõÑÏóê ÏôÄÏïº Ìï©ÎãàÎã§. -->
    <script th:src="@{/js/admin/dashboard.js}"></script>
</th:block>
</html>