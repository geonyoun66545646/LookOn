<!--
  [수정 사항]
  1. 파라미터로 상품 번호(gdsNo)와 주문 번호(ordNo)를 모두 받도록 변경.
  2. 프래그먼트는 실제 form을 감싸는 div 부터 시작하도록 구조 단순화.
-->
<th:block th:fragment="insertReviewFragment(gdsNo, ordrNo)">

    <!-- 리뷰 작성 섹션 -->
    <div class="add-review">
        <h3>리뷰 작성</h3>

        <!--
          [수정 사항]
          1. 파일 업로드를 위해 enctype="multipart/form-data" 추가 (필수!)
        -->
        <form th:action="@{/customer/review/add}" method="post" enctype="multipart/form-data">
            
            <!--
              [수정 사항]
              1. 어떤 상품(gdsNo)과 어떤 주문(ordNo)에 대한 리뷰인지 서버에 전송
            -->
            <input type="hidden" name="gdsNo" th:value="${gdsNo}" />
            <input type="hidden" name="ordrNo" th:value="${ordrNo}" />

            <div class="form-group">
                <label for="rating">평점 <span class="required">*</span></label>
                <select name="evlScr" id="rating" class="form-control" required>
                    <option value="" disabled selected>평점을 선택하세요</option>
                    <option value="5">★★★★★ (5점)</option>
                    <option value="4">★★★★☆ (4점)</option>
                    <option value="3">★★★☆☆ (3점)</option>
                    <option value="2">★★☆☆☆ (2점)</option>
                    <option value="1">★☆☆☆☆ (1점)</option>
                </select>
            </div>
            <div class="form-group">
                <label for="review_cn">리뷰 내용 <span class="required">*</span></label>
                <textarea id="review_cn" name="reviewCn" cols="30" rows="6" class="form-control" required></textarea>
            </div>
            <div class="form-group">
                <label for="review_images">리뷰 이미지 (선택 사항)</label>
                <input type="file" id="review_images" name="reviewImages" multiple class="form-control-file" accept="image/*">
            </div>
            <button type="submit" class="btn btn-outline-primary-2">
                <span>리뷰 제출</span> <i class="icon-long-arrow-right"></i>
            </button>
        </form>
    </div><!-- End .add-review -->

</th:block>