<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<div th:fragment="productToolbarFragment">
	<!-- 카테고리 여기는 완료  -->
	<div class="product-toolbar-container">
		<nav class="main-category-nav">
			<ul class="main-category-list">
				<li class="main-category-item category-title"
					th:text="${parentCategoryName ?: '카테고리'}">카테고리</li>
				<li class="main-category-item"><a
					th:href="@{/customer/products/list(categoryId=${parentCategoryId})}"
					class="main-category-link"
					th:classappend="${#strings.isEmpty(param.categoryId) || param.categoryId == parentCategoryId ? 'active' : ''}">전체</a>
				</li>
				<li class="main-category-item"
					th:each="subCategory : ${subCategories}"><a
					th:href="@{/customer/products/list(categoryId=${subCategory.categoryId})}"
					class="main-category-link"
					th:classappend="${param.categoryId == subCategory.categoryId ? 'active' : ''}"
					th:text="${subCategory.categoryName}">하위 카테고리명</a></li>
			</ul>
		</nav>
		
		<!-- 필터 모달 여기부터 진행 -->
		<div class="product-filter-bar">
			<div class="filter-controls">
				<button class="filter-main-button app-modal-trigger">상품 필터</button>
				<button class="filter-button" data-filter-group="gender"
					data-gender="M">남</button>
				<button class="filter-button" data-filter-group="gender"
					data-gender="F">여</button>
				<button class="filter-dropdown modal-trigger" data-modal-tab="color">컬러</button>
				<button class="filter-dropdown modal-trigger" data-modal-tab="price">가격</button>
				<button class="filter-dropdown modal-trigger" data-modal-tab="size">사이즈</button>
				<button class="filter-dropdown modal-trigger" data-modal-tab="brand">브랜드</button>
				<button class="filter-dropdown modal-trigger" data-modal-tab="options">할인율</button>
				<button class="filter-dropdown modal-trigger" data-modal-tab="type">상품유형</button>
			</div>

			<div class="sort-control">
				<div class="sort-dropdown-container">
					<button class="sort-dropdown-button">신상품(재입고)순</button>
					<ul class="sort-dropdown-menu">
						<li><a href="#" class="sort-option-link" data-sort-by="new">신상품순</a></li>
						<li><a href="#" class="sort-option-link"
							data-sort-by="price_asc">낮은가격순</a></li>
						<li><a href="#" class="sort-option-link"
							data-sort-by="price_desc">높은가격순</a></li>
						<li><a href="#" class="sort-option-link"
							data-sort-by="discount_desc">할인률순</a></li>
						<li><a href="#" class="sort-option-link"
							data-sort-by="popular">인기순(판매량)</a></li>
					</ul>
				</div>
			</div>
		</div>
	</div>

	<div class="app-filter-modal-overlay">
		<div class="app-filter-modal-content">

			<header class="app-modal-header">
				<div class="app-modal-header-top">
					<h2 class="app-modal-title">필터</h2>
					<button class="app-modal-close-button">×</button>
				</div>		
				<nav class="app-modal-tab-nav">
					<button class="app-modal-tab-button" data-tab="color">컬러</button>
					<button class="app-modal-tab-button" data-tab="price">가격</button>
					<button class="app-modal-tab-button" data-tab="discount">할인율</button>
					<button class="app-modal-tab-button" data-tab="size">사이즈</button>
					<button class="app-modal-tab-button" data-tab="brand">브랜드</button>
					<button class="app-modal-tab-button" data-tab="type">상품유형</button>
				</nav>
			</header>

			<div class="app-modal-body">
				<!-- 컬러 탭 -->
				<div class="app-modal-tab-pane" id="color-pane">
					<h3 class="app-tab-pane-title">컬러</h3>
					<div class="app-filter-options-grid app-color-options">
						<!-- JavaScript로 동적 생성되거나, 직접 추가 -->
						<label class="app-color-option">
							<input type="checkbox" name="color" value="white" hidden>
							<span class="color-swatch" style="background-color: #fff; border: 1px solid #e0e0e0;"></span>
							<span>화이트</span>
						</label>
						<label class="app-color-option">
							<input type="checkbox" name="color" value="silver" hidden>
							<span class="color-swatch" style="background-color: #C0C0C0;"></span>
							<span>실버</span>
						</label>
						<label class="app-color-option">
							<input type="checkbox" name="color" value="light-gray" hidden>
							<span class="color-swatch" style="background-color: #d3d3d3;"></span>
							<span>라이트 그레이</span>
						</label>
						<label class="app-color-option">
							<input type="checkbox" name="color" value="gray" hidden>
							<span class="color-swatch" style="background-color: #808080;"></span>
							<span>그레이</span>
						</label>
						<label class="app-color-option">
							<input type="checkbox" name="color" value="dark-gray" hidden>
							<span class="color-swatch" style="background-color: #4c4c4c;"></span>
							<span>다크 그레이</span>
						</label>
						<label class="app-color-option">
							<input type="checkbox" name="color" value="black" hidden>
							<span class="color-swatch" style="background-color: #000;"></span>
							<span>블랙</span>
						</label>
						<label class="app-color-option">
							<input type="checkbox" name="color" value="red" hidden>
							<span class="color-swatch" style="background-color: #ff0000;"></span>
							<span>레드</span>
						</label>
						<label class="app-color-option">
							<input type="checkbox" name="color" value="deep-red" hidden>
							<span class="color-swatch" style="background-color: #9e1b32;"></span>
							<span>딥레드</span>
						</label>
						<label class="app-color-option">
							<input type="checkbox" name="color" value="burgundy" hidden>
							<span class="color-swatch" style="background-color: #800020;"></span>
							<span>버건디</span>
						</label>
						<label class="app-color-option">
							<input type="checkbox" name="color" value="brick" hidden>
							<span class="color-swatch" style="background-color: #b24d3e;"></span>
							<span>브릭</span>
						</label>
					</div>
				</div>

				<!-- 가격 탭 -->
				<div class="app-modal-tab-pane" id="price-pane">
					<h3 class="app-tab-pane-title">가격</h3>
					<div class="app-filter-options-grid app-price-options">
						<label class="app-filter-option"><input type="radio" name="priceRange" value="all" checked><span>전체</span></label>
						<label class="app-filter-option"><input type="radio" name="priceRange" value="0-50000"><span>5만원 이하</span></label>
						<label class="app-filter-option"><input type="radio" name="priceRange" value="50000-100000"><span>5만원 ~ 10만원</span></label>
						<label class="app-filter-option"><input type="radio" name="priceRange" value="100000-200000"><span>10만원 ~ 20만원</span></label>
						<label class="app-filter-option"><input type="radio" name="priceRange" value="200000-300000"><span>20만원 ~ 30만원</span></label>
						<label class="app-filter-option"><input type="radio" name="priceRange" value="300000-max"><span>30만원 이상</span></label>
						<label class="app-filter-option"><input type="radio" name="priceRange" value="direct"><span>직접입력</span></label>
					</div>
					<div class="app-price-direct-input">
						<input type="text" class="app-price-input" placeholder="4,900">
						<span class="price-input-divider">-</span>
						<input type="text" class="app-price-input" placeholder="2,425,990">
						<button class="app-apply-price-button">적용</button>
					</div>
				</div>
				
				<!-- 할인율 탭 -->
				<div class="app-modal-tab-pane" id="discount-pane">
					<h3 class="app-tab-pane-title">할인율</h3>
					<div class="app-filter-options-grid app-discount-options">
						<label class="app-filter-option"><input type="radio" name="discountRate" value="0-30"><span>30% 미만</span></label>
						<label class="app-filter-option"><input type="radio" name="discountRate" value="30-50"><span>30%~50% 미만</span></label>
						<label class="app-filter-option"><input type="radio" name="discountRate" value="50-70"><span>50%~70% 미만</span></label>
						<label class="app-filter-option"><input type="radio" name="discountRate" value="70-100"><span>70% 이상</span></label>
					</div>
				</div>

				<!-- 사이즈 탭 -->
				<div class="app-modal-tab-pane" id="size-pane">
					<h3 class="app-tab-pane-title">의류 사이즈</h3>
					<div class="app-filter-options-grid app-size-options">
						<label class="app-filter-option"><input type="checkbox" name="size" value="XS"><span>XS</span></label>
						<label class="app-filter-option"><input type="checkbox" name="size" value="S"><span>S</span></label>
						<label class="app-filter-option"><input type="checkbox" name="size" value="M"><span>M</span></label>
						<label class="app-filter-option"><input type="checkbox" name="size" value="L"><span>L</span></label>
						<label class="app-filter-option"><input type="checkbox" name="size" value="XL"><span>XL</span></label>
						<label class="app-filter-option"><input type="checkbox" name="size" value="2XL"><span>2XL 이상</span></label>
					</div>
					<h3 class="app-tab-pane-title">신발 사이즈</h3>
					<div class="app-filter-options-grid app-size-options">
						<label class="app-filter-option"><input type="checkbox" name="size" value="230"><span>230</span></label>
						<label class="app-filter-option"><input type="checkbox" name="size" value="235"><span>235</span></label>
						<label class="app-filter-option"><input type="checkbox" name="size" value="240"><span>240</span></label>
						<label class="app-filter-option"><input type="checkbox" name="size" value="245"><span>245</span></label>
						<label class="app-filter-option"><input type="checkbox" name="size" value="250"><span>250</span></label>
						<label class="app-filter-option"><input type="checkbox" name="size" value="255"><span>255</span></label>
					</div>
					<h3 class="app-tab-pane-title">패션소픔 사이즈</h3>
					<div class="app-filter-options-grid app-size-options">
						<label class="app-filter-option"><input type="checkbox" name="size" value="FREE"><span>FREE</span></label>
					</div>
				</div>

				<!-- 브랜드 탭 -->
				<div class="app-modal-tab-pane" id="brand-pane">
					<h3 class="app-tab-pane-title">브랜드</h3>
					<div class="app-brand-search-wrapper">
						<input type="text" class="app-brand-search-input" placeholder="브랜드명을 입력해주세요.">
						<button class="app-brand-search-button">
							<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M12.5 11H11.71L11.43 10.73C12.41 9.59 13 8.11 13 6.5C13 2.91 10.09 0 6.5 0C2.91 0 0 2.91 0 6.5C0 10.09 2.91 13 6.5 13C8.11 13 9.59 12.41 10.73 11.43L11 11.71V12.5L16 17.49L17.49 16L12.5 11ZM6.5 11C4.01 11 2 8.99 2 6.5C2 4.01 4.01 2 6.5 2C8.99 2 11 4.01 11 6.5C11 8.99 8.99 11 6.5 11Z" fill="#888"></path>
							</svg>
						</button>
					</div>
					<div class="app-filter-options-grid app-brand-options">
						<label class="app-filter-option">
							<input type="checkbox" name="brand" value="8SECONDS">
							<span class="brand-name">에잇세컨즈<small>8SECONDS</small></span>
						</label>
						<label class="app-filter-option">
							<input type="checkbox" name="brand" value="MUSINSA">
							<span class="brand-name">무신사 스탠다드 우먼<small>MUSINSA STANDARD WOMAN</small></span>
						</label>
						<label class="app-filter-option">
							<input type="checkbox" name="brand" value="SOUP">
							<span class="brand-name">숲<small>SOUP</small></span>
						</label>
						<label class="app-filter-option">
							<input type="checkbox" name="brand" value="GREEDILOUS">
							<span class="brand-name">그리디어스<small>GREEDILOUS</small></span>
						</label>
					</div>
				</div>
				
				<!-- 상품 유형 탭 -->
				<div class="app-modal-tab-pane" id="type-pane">
					<h3 class="app-tab-pane-title">판매 상태</h3>
					<div class="app-filter-options-grid" style="grid-template-columns: 1fr;"> <!-- 1열로 변경 -->
						<label class="app-filter-option">
							<input type="checkbox" name="includeSoldOut" value="true">
							<span>품절포함</span>
						</label>
					</div>
				</div>

			</div>

			<footer class="app-modal-footer">
				<button class="app-view-products-button">상품보기</button>
			</footer>

		</div>
	</div>

</div>

</html>