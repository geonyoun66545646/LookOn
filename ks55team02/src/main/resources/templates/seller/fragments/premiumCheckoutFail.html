<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{seller/layout/layout_main}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>결제 실패</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/maincss/assets/customcustomercss/premiumCheckout.css}">
</head>
<body>
    <th:block layout:fragment="contents">
        <div class="page-container">
            <h2 class="page-title">결제를 완료하지 못했습니다</h2>
            <p class="page-subtitle">아래 내용을 확인 후 다시 시도해주세요.</p>

            <div class="content-wrapper">
                <div class="checkout-details-panel fail-panel">
                    <div class="fail-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="#F44336" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="15" y1="9" x2="9" y2="15"></line>
                            <line x1="9" y1="9" x2="15" y2="15"></line>
                        </svg>
                    </div>

                    <div class="error-details">
                        <div class="error-message">
                            <p th:text="${errorMessage}">카드 잔액이 부족하여 결제에 실패했습니다.</p>
                        </div>
                        <div class="error-code" th:if="${errorCode}">
                            <span>에러 코드: </span>
                            <span th:text="${errorCode}">PAYMENT_INSUFFICIENT_BALANCE</span>
                        </div>
                    </div>

                    <div class="order-summary-box">
                        <div class="summary-line">
                            <span class="label">주문 번호</span>
                            <span class="value" th:text="${orderId}">TEST_123456789</span>
                        </div>
                        <div class="summary-line">
                            <span class="label">결제 금액</span>
                            <span class="value" th:text="${#numbers.formatCurrency(amount)} + '원'">49,000원</span>
                        </div>
                    </div>

                    <div class="button-group">
                        <a th:href="@{/seller/premium/checkout(sbscrPlanId=${planId}, amount=${amount})}" class="confirm-button">다시 결제하기</a>
                        <a th:href="@{/seller/premium/sellerPremiumListView}" class="cancel-button">구독 플랜 목록</a>
                    </div>
                </div>
            </div>
        </div>
    </th:block>
</body>
</html>