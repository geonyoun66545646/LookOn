<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ks55team02.seller.inquiry.mapper.SellerInquiryMapper">

	 <resultMap id="sellerInquiryResultMap" 		type="ks55team02.common.domain.inquiry.Inquiry"
               extends="ks55team02.customer.inquiry.mapper.InquiryMapper.inquiryResultMap">
        
    </resultMap>
	
	<!-- 스토어 아이디로 해당 문의 조회 -->
	<select id="getSellerInquiryList" resultMap="sellerInquiryResultMap">
        SELECT
            i.inqry_id,
            i.inqry_type_cd,
            i.inqry_trgt_type_cd,
            i.wrtr_id,
            i.inqry_store_id,
            i.inqry_ttl,
            i.inqry_cn,
            i.prvt_yn,
            i.prcs_stts,
            i.prcs_user_no,
            i.reg_ymd,
            i.mdfcn_ymd,
            i.del_dt,
            i.del_user_no,
            i.del_actvtn_yn,
            u.user_no,
            u.mbr_grd_cd,
            u.user_lgn_id,
            u.user_nm,
            u.user_pswd_encpt_val,
            u.gender_se_cd,
            u.eml_addr,
            u.telno,
            u.user_brdt,
            u.zip_cd,
            u.addr,
            u.daddr,
            u.user_ncnm,
            u.user_status,
            u.join_dt,
            u.whdwl_dt,
            u.last_info_mdfcn_dt
        FROM inquiries i
        JOIN users u ON i.wrtr_id = u.user_no
        WHERE i.inqry_store_id = #{currentStoreId}
        ORDER BY i.reg_ymd DESC
    </select>




</mapper>